"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[532],{5583:(x,S,g)=>{g.d(S,{f:()=>R});var t=g(3885),n=g(9108),e=g(1090),i=g(2598),m=g(177),r=g(8935),o=g(4207);const s=function(){return{exact:!0}};function a(h,D){if(1&h&&(i.j41(0,"th",2)(1,"a",3),i.EFF(2),i.k0s()()),2&h){const k=D.$implicit,F=i.XpG().$implicit;i.xc7("width",1/F,"%"),i.Y8G("routerLink",k.link)("routerLinkActiveOptions",i.lJ4(6,s)),i.R7$(1),i.Y8G("routerLink",k.link),i.R7$(1),i.SpI(" ",k.title," ")}}function l(h,D){if(1&h&&(i.j41(0,"th",11)(1,"a",12),i.EFF(2),i.nI1(3,"translateComp"),i.k0s()()),2&h){const k=i.XpG().$implicit,F=i.XpG();i.xc7("width",1/k,"%"),i.R7$(2),i.SpI(" ",i.i5U(3,3,F.msgs.FusionSettings,F.lang)," ")}}const c=function(){return{marginLeft:"auto",marginRight:"auto",width:"1080px"}};function u(h,D){if(1&h&&(i.j41(0,"table",1)(1,"thead")(2,"tr")(3,"th",2)(4,"a",3),i.EFF(5),i.nI1(6,"translateComp"),i.k0s()(),i.j41(7,"th",4)(8,"a",5),i.EFF(9),i.nI1(10,"translateComp"),i.k0s()(),i.j41(11,"th",6)(12,"a",7),i.EFF(13),i.nI1(14,"translateComp"),i.k0s()(),i.DNE(15,a,3,7,"th",8),i.DNE(16,l,4,6,"th",9),i.k0s(),i.j41(17,"tr")(18,"th",10),i.EFF(19),i.nI1(20,"translateComp"),i.k0s()()()()),2&h){const k=D.$implicit,F=i.XpG();i.Y8G("ngStyle",i.lJ4(30,c)),i.R7$(3),i.xc7("width",1/k,"%"),i.Y8G("routerLink",F.mainList+"s")("routerLinkActiveOptions",i.lJ4(31,s)),i.R7$(1),i.Y8G("routerLink",F.mainList+"s"),i.R7$(1),i.SpI(" ",i.i5U(6,18,"demon"===F.mainList?F.msgs.DemonList:F.msgs.PersonaList,F.lang)," "),i.R7$(2),i.xc7("width",1/k,"%"),i.R7$(2),i.SpI(" ",i.i5U(10,21,F.msgs.SkillList,F.lang)," "),i.R7$(2),i.xc7("width",1/k,"%"),i.R7$(2),i.SpI(" ",i.i5U(14,24,F.msgs.FusionChart,F.lang)," "),i.R7$(2),i.Y8G("ngForOf",F.otherLinks),i.R7$(1),i.Y8G("ngIf",F.hasSettings),i.R7$(2),i.BMQ("colspan",k),i.R7$(1),i.Lme("",F.appName,"",i.i5U(20,27,F.msgs.FusionCalculator,F.lang),"")}}function d(h,D){if(1&h&&(i.j41(0,"div",3),i.nrm(1,"app-demon-compendium-header",4),i.k0s()),2&h){const k=i.XpG();i.R7$(1),i.Y8G("appName",k.appName)("mainList",k.mainList)("hasSettings",k.hasSettings)("lang",k.lang)("otherLinks",k.otherLinks)}}function v(h,D){if(1&h&&(i.j41(0,"div"),i.nrm(1,"app-demon-compendium-header",4),i.k0s()),2&h){const k=i.XpG();i.R7$(1),i.Y8G("appName",k.appName)("mainList",k.mainList)("hasSettings",k.hasSettings)("lang",k.lang)("otherLinks",k.otherLinks)}}const p=function(h){return{marginLeft:"auto",marginRight:"auto",width:h}};let f=(()=>{class h{constructor(){this.appName="Shin Megami Tensei",this.mainList="demon",this.hasSettings=!0,this.lang="en",this.otherLinks=[],this.msgs=e.fu}static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["app-demon-compendium-header"]],inputs:{appName:"appName",mainList:"mainList",hasSettings:"hasSettings",lang:"lang",otherLinks:"otherLinks"},decls:1,vars:1,consts:[[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],["routerLink","skills","routerLinkActive","active",1,"nav"],["routerLink","skills"],["routerLink","chart","routerLinkActive","active",1,"nav"],["routerLink","chart"],["class","nav","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","width",4,"ngFor","ngForOf"],["class","nav","routerLink","settings","routerLinkActive","active",3,"width",4,"ngIf"],[1,"title"],["routerLink","settings","routerLinkActive","active",1,"nav"],["routerLink","settings"]],template:function(F,y){1&F&&i.DNE(0,u,21,32,"table",0),2&F&&i.Y8G("ngIf",3+y.otherLinks.length+(y.hasSettings?1:0))},dependencies:[m.Sq,m.bT,m.B3,r.Wk,r.wQ,o.uz],encapsulation:2,changeDetection:0})}}return h})(),R=(()=>{class h{constructor(k){this.route=k,this.subscriptions=[],this.mainList="demon",this.hasSettings=!0,this.otherLinks=[]}ngOnInit(){this.subscriptions.push(this.route.data.subscribe(k=>{this.appName=k.appName||"Shin Megami Tensei",this.isChart="chart"===k.fusionTool,this.lang=k.lang})),setTimeout(()=>this.stickyTable.nextEdges())}ngOnDestroy(){for(const k of this.subscriptions)k.unsubscribe()}static{this.\u0275fac=function(F){return new(F||h)(i.rXU(r.nX))}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["app-demon-compendium"]],viewQuery:function(F,y){if(1&F&&i.GBs(n.a,5),2&F){let j;i.mGM(j=i.lsd())&&(y.stickyTable=j.first)}},inputs:{mainList:"mainList",hasSettings:"hasSettings",otherLinks:"otherLinks"},features:[i.Jv_([t.P])],decls:4,vars:5,consts:[[3,"ngStyle"],["appPositionSticky","",4,"ngIf"],[4,"ngIf"],["appPositionSticky",""],["appPositionSticky","",3,"appName","mainList","hasSettings","lang","otherLinks"]],template:function(F,y){1&F&&(i.j41(0,"div",0),i.DNE(1,d,2,5,"div",1),i.DNE(2,v,2,5,"div",2),i.nrm(3,"router-outlet"),i.k0s()),2&F&&(i.Y8G("ngStyle",i.eq3(3,p,y.isChart?"auto":"1080px")),i.R7$(1),i.Y8G("ngIf",!y.isChart),i.R7$(1),i.Y8G("ngIf",y.isChart))},dependencies:[m.bT,m.B3,r.n3,n.a,f],encapsulation:2,changeDetection:0})}}return h})()},5692:(x,S,g)=>{g.d(S,{X:()=>r});var t=g(2598),n=g(177),e=g(8935);function i(o,s){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.j41(2,"a",3),t.EFF(3),t.k0s()()),2&o){const a=t.XpG();t.R7$(1),t.SpI(" Error: Could not find entry in compendium for ",a.name,". Did you mean: "),t.R7$(1),t.Mz_("routerLink","../",a.name.split("%20").join(" "),""),t.R7$(1),t.JRh(a.name.split("%20").join(" "))}}function m(o,s){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const a=t.XpG();t.R7$(1),t.SpI("Error: Could not find entry in compendium for ",a.name,"")}}let r=(()=>{class o{static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-demon-missing"]],inputs:{name:"name"},decls:9,vars:3,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"routerLink"]],template:function(l,c){1&l&&(t.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t.EFF(4),t.k0s()()(),t.j41(5,"tbody")(6,"tr"),t.DNE(7,i,4,3,"td",2),t.DNE(8,m,2,1,"td",2),t.k0s()()()),2&l&&(t.R7$(4),t.SpI("Entry for ",c.name,""),t.R7$(3),t.Y8G("ngIf",c.name&&c.name.includes("%20")),t.R7$(1),t.Y8G("ngIf",!c.name||!c.name.includes("%20")))},dependencies:[n.bT,e.Wk],encapsulation:2,changeDetection:0})}}return o})()},2223:(x,S,g)=>{g.d(S,{w:()=>p});var t=g(1090),n=g(2598),e=g(177),i=g(4207);function m(f,R){if(1&f&&(n.j41(0,"th"),n.EFF(1),n.nI1(2,"translateComp"),n.k0s()),2&f){const h=n.XpG(2);n.BMQ("colSpan",h.ailmentHeaders.length),n.R7$(1),n.JRh(n.i5U(2,2,h.msgs.Ailment,h.lang))}}const r=function(f){return["element-icon",f]};function o(f,R){if(1&f&&(n.j41(0,"th")(1,"div",6),n.EFF(2),n.k0s()()),2&f){const h=R.$implicit,D=n.XpG(2);n.xc7("width",(D.ailmentHeaders.length?50:100)/D.resistHeaders.length,"%"),n.R7$(1),n.Y8G("ngClass",n.eq3(4,r,h)),n.R7$(1),n.JRh(h)}}function s(f,R){if(1&f&&(n.j41(0,"th")(1,"div"),n.EFF(2),n.k0s()()),2&f){const h=R.$implicit,D=n.XpG(2);n.xc7("width",50/D.ailmentHeaders.length,"%"),n.R7$(2),n.JRh(h)}}const a=function(f){return["resists",f]};function l(f,R){if(1&f&&(n.j41(0,"td",6),n.nI1(1,"reslvlToColor"),n.EFF(2),n.nI1(3,"reslvlToStringJa"),n.k0s()),2&f){const h=R.$implicit,D=n.XpG(2);n.Y8G("ngClass",n.eq3(7,a,n.bMT(1,2,h))),n.R7$(2),n.SpI(" ",n.i5U(3,4,h,D.lang)," ")}}function c(f,R){if(1&f&&(n.j41(0,"td",6),n.nI1(1,"reslvlToString"),n.EFF(2),n.nI1(3,"reslvlToStringJa"),n.k0s()),2&f){const h=R.$implicit,D=n.XpG(2);n.Y8G("ngClass",n.eq3(7,a,n.bMT(1,2,h))),n.R7$(2),n.SpI(" ",n.i5U(3,4,h,D.lang)," ")}}function u(f,R){if(1&f&&(n.j41(0,"td",6),n.EFF(1),n.nI1(2,"resmodToString"),n.k0s()),2&f){const h=R.$implicit;n.Y8G("ngClass",n.eq3(4,a,h%1024==40?"no":"")),n.R7$(1),n.SpI(" ",n.bMT(2,2,h)," ")}}function d(f,R){if(1&f&&(n.j41(0,"td",6),n.EFF(1),n.nI1(2,"resmodToString"),n.k0s()),2&f){const h=R.$implicit;n.Y8G("ngClass",n.eq3(4,a,h%1024==40?"no":"")),n.R7$(1),n.SpI(" ",n.bMT(2,2,h)," ")}}function v(f,R){if(1&f&&(n.j41(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),n.EFF(4),n.nI1(5,"translateComp"),n.k0s()(),n.j41(6,"tr")(7,"th"),n.EFF(8),n.nI1(9,"translateComp"),n.k0s(),n.DNE(10,m,3,5,"th",3),n.k0s(),n.j41(11,"tr"),n.DNE(12,o,3,6,"th",4),n.DNE(13,s,3,3,"th",4),n.k0s()(),n.j41(14,"tbody")(15,"tr"),n.DNE(16,l,4,9,"td",5),n.DNE(17,c,4,9,"td",5),n.k0s(),n.j41(18,"tr"),n.DNE(19,u,3,6,"td",5),n.DNE(20,d,3,6,"td",5),n.k0s()()()),2&f){const h=n.XpG();n.R7$(3),n.BMQ("colspan",h.resistHeaders.length+h.ailmentHeaders.length),n.R7$(1),n.JRh(h.title||n.i5U(5,11,h.msgs.Resistances,h.lang)),n.R7$(3),n.BMQ("colSpan",h.resistHeaders.length),n.R7$(1),n.JRh(n.i5U(9,14,h.msgs.Element,h.lang)),n.R7$(2),n.Y8G("ngIf",h.ailmentHeaders.length),n.R7$(2),n.Y8G("ngForOf",h.resistHeaders),n.R7$(1),n.Y8G("ngForOf",h.ailmentHeaders),n.R7$(3),n.Y8G("ngForOf",h.resists),n.R7$(1),n.Y8G("ngForOf",h.ailments),n.R7$(2),n.Y8G("ngForOf",h.resists),n.R7$(1),n.Y8G("ngForOf",h.ailments)}}let p=(()=>{class f{constructor(){this.title="",this.resistHeaders=[],this.resists=[],this.ailmentHeaders=[],this.ailments=[],this.lang="en",this.msgs=t.wc}static{this.\u0275fac=function(D){return new(D||f)}}static{this.\u0275cmp=n.VBU({type:f,selectors:[["app-demon-resists"]],inputs:{title:"title",resistHeaders:"resistHeaders",resists:"resists",ailmentHeaders:"ailmentHeaders",ailments:"ailments",lang:"lang"},decls:1,vars:1,consts:[["class","entry-table",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(D,k){1&D&&n.DNE(0,v,21,17,"table",0),2&D&&n.Y8G("ngIf",k.resistHeaders.length)},dependencies:[e.YU,e.Sq,e.bT,i.uz,i.FA,i.g7,i.Fz,i.jk],encapsulation:2,changeDetection:0})}}return f})()},302:(x,S,g)=>{g.d(S,{F:()=>d});var t=g(1090),n=g(2598),e=g(177),i=g(2940),m=g(4207);function r(v,p){if(1&v&&(n.j41(0,"th"),n.EFF(1),n.nI1(2,"translateComp"),n.k0s()),2&v){const f=n.XpG();n.R7$(1),n.JRh(n.i5U(2,1,f.msgs.Target,f.lang))}}function o(v,p){if(1&v&&(n.j41(0,"th"),n.EFF(1),n.nI1(2,"translateComp"),n.k0s()),2&v){const f=n.XpG();n.R7$(1),n.JRh(n.i5U(2,1,f.msgs.Rank,f.lang))}}function s(v,p){1&v&&(n.j41(0,"th"),n.EFF(1,"Inherit"),n.k0s())}function a(v,p){1&v&&(n.j41(0,"th"),n.EFF(1,"Lvl"),n.k0s())}const l=function(v,p){return{extra:v,unique:p}};function c(v,p){if(1&v&&n.nrm(0,"tr",4),2&v){const f=p.$implicit,R=n.XpG();n.Y8G("hasTarget",R.hasTarget)("hasRank",R.hasRank)("hasInherit",R.hasInherit)("hasLearned",!1)("hasLvl",R.hasLvl)("skillLvl",f.level)("data",f)("ngClass",n.l_i(8,l,f.rank>70&&f.rank<90,f.rank>90))}}function u(v,p){if(1&v&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s()()),2&v){const f=n.XpG();n.R7$(1),n.BMQ("colspan",f.skillHeaderLen),n.R7$(1),n.SpI("No ",f.title," Found")}}let d=(()=>{class v{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.lang="en",this.skillHeaderLen=5,this.msgs=t.vf}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(f=>this.compendium.getSkill(f));for(const f of this.skills)f.level=this.skillLevels[f.name];this.elemOrder&&this.skills.sort((f,R)=>200*(f.level-R.level)+this.elemOrder[f.element]-this.elemOrder[R.element])}static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275cmp=n.VBU({type:v,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels",lang:"lang"},features:[n.OA$],decls:26,vars:24,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass"]],template:function(R,h){1&R&&(n.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),n.EFF(4),n.k0s()(),n.j41(5,"tr")(6,"th"),n.EFF(7),n.nI1(8,"translateComp"),n.k0s(),n.j41(9,"th"),n.EFF(10),n.nI1(11,"translateComp"),n.k0s(),n.j41(12,"th"),n.EFF(13),n.nI1(14,"translateComp"),n.k0s(),n.j41(15,"th"),n.EFF(16),n.nI1(17,"translateComp"),n.k0s(),n.DNE(18,r,3,4,"th",2),n.DNE(19,o,3,4,"th",2),n.DNE(20,s,2,0,"th",2),n.DNE(21,a,2,0,"th",2),n.k0s()(),n.j41(22,"tbody"),n.DNE(23,c,1,11,"tr",3),n.DNE(24,u,3,2,"tr",2),n.nrm(25,"tr"),n.k0s()()),2&R&&(n.R7$(3),n.BMQ("colSpan",h.skillHeaderLen),n.R7$(1),n.JRh(h.title),n.R7$(3),n.JRh(n.i5U(8,12,h.msgs.Elem,h.lang)),n.R7$(3),n.JRh(n.i5U(11,15,h.msgs.Name,h.lang)),n.R7$(3),n.JRh(n.i5U(14,18,h.msgs.Cost,h.lang)),n.R7$(3),n.JRh(n.i5U(17,21,h.msgs.Effect,h.lang)),n.R7$(2),n.Y8G("ngIf",h.hasTarget),n.R7$(1),n.Y8G("ngIf",h.hasRank),n.R7$(1),n.Y8G("ngIf",h.hasInherit),n.R7$(1),n.Y8G("ngIf",h.hasLvl),n.R7$(2),n.Y8G("ngForOf",h.skills),n.R7$(1),n.Y8G("ngIf",!h.skills.length))},dependencies:[e.YU,e.Sq,e.bT,i.t,m.uz],encapsulation:2,changeDetection:0})}}return v})()},3679:(x,S,g)=>{g.d(S,{C:()=>v});var t=g(1090),n=g(2598),e=g(177),i=g(4207);function m(p,f){if(1&p&&(n.j41(0,"h2"),n.EFF(1),n.k0s()),2&p){const R=n.XpG();n.R7$(1),n.JRh(R.title)}}function r(p,f){if(1&p&&(n.j41(0,"th"),n.EFF(1),n.nI1(2,"translateComp"),n.k0s()),2&p){const R=n.XpG();n.R7$(1),n.JRh(n.i5U(2,1,R.msgs.Price,R.lang))}}function o(p,f){if(1&p&&(n.j41(0,"th"),n.EFF(1),n.k0s()),2&p){const R=f.$implicit;n.R7$(1),n.JRh(R)}}function s(p,f){1&p&&(n.j41(0,"th"),n.EFF(1,"Inherits"),n.k0s())}function a(p,f){if(1&p&&(n.j41(0,"th"),n.EFF(1),n.k0s()),2&p){const R=f.$implicit;n.R7$(1),n.JRh(R)}}function l(p,f){if(1&p&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&p){const R=n.XpG();n.R7$(1),n.JRh(R.price)}}function c(p,f){if(1&p&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&p){const R=f.$implicit;n.R7$(1),n.JRh(R)}}function u(p,f){if(1&p&&(n.j41(0,"td")(1,"div"),n.EFF(2),n.k0s()()),2&p){const R=n.XpG();n.R7$(1),n.ZvI("element-icon i",R.inherits,""),n.R7$(1),n.JRh(R.inherits)}}const d=["*"];let v=(()=>{class p{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.lang="en",this.msgs=t.Cj}static{this.\u0275fac=function(h){return new(h||p)}}static{this.\u0275cmp=n.VBU({type:p,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",lang:"lang"},ngContentSelectors:d,decls:20,vars:13,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(h,D){1&h&&(n.NAR(),n.qex(0),n.DNE(1,m,2,1,"h2",0),n.j41(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),n.EFF(6),n.nI1(7,"translateComp"),n.k0s()(),n.j41(8,"tr"),n.DNE(9,r,3,4,"th",0),n.DNE(10,o,2,1,"th",3),n.DNE(11,s,2,0,"th",0),n.DNE(12,a,2,1,"th",3),n.k0s()(),n.j41(13,"tbody")(14,"tr"),n.DNE(15,l,2,1,"td",0),n.DNE(16,c,2,1,"td",3),n.DNE(17,u,3,4,"td",0),n.SdG(18),n.k0s()()(),n.eu8(19),n.bVm()),2&h&&(n.R7$(1),n.Y8G("ngIf",D.title.includes("Lvl")),n.R7$(4),n.BMQ("colSpan",D.stats.length+D.fusionHeaders.length+(D.inherits?1:0)+(D.price?1:0)),n.R7$(1),n.SpI(" ",D.title.includes("Lvl")?n.i5U(7,10,D.msgs.Stats,D.lang):D.title," "),n.R7$(3),n.Y8G("ngIf",D.price),n.R7$(1),n.Y8G("ngForOf",D.statHeaders),n.R7$(1),n.Y8G("ngIf",D.inherits),n.R7$(1),n.Y8G("ngForOf",D.fusionHeaders),n.R7$(3),n.Y8G("ngIf",D.price),n.R7$(1),n.Y8G("ngForOf",D.stats),n.R7$(1),n.Y8G("ngIf",D.inherits))},dependencies:[e.Sq,e.bT,i.uz],encapsulation:2,changeDetection:0})}}return p})()},9629:(x,S,g)=>{g.d(S,{F:()=>q});var t=g(2598),n=g(3885),e=g(6661);let i=(()=>{class C extends e.r{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[],this.raceOrder&&this.sortFuns.push((_,T)=>200*(this.raceOrder[_.race]-this.raceOrder[T.race])+T.lvl-_.lvl,(_,T)=>200*(this.raceOrder[_.race]-this.raceOrder[T.race])+T.lvl-_.lvl,(_,T)=>T.lvl-_.lvl,(_,T)=>_.name.localeCompare(T.name)),this.inheritOrder&&this.sortFuns.push((_,T)=>_.inherits-T.inherits),this.statHeaders&&(this.sortFuns=this.sortFuns.concat(this.statHeaders.map((_,T)=>(L,U)=>U.stats[T]-L.stats[T]))),this.resistHeaders&&(this.sortFuns=this.sortFuns.concat(this.resistHeaders.map((_,T)=>(L,U)=>L.resists[T]-U.resists[T]))),this.affinityHeaders&&(this.sortFuns=this.sortFuns.concat(this.affinityHeaders.map((_,T)=>(L,U)=>U.affinities[T]-L.affinities[T])))}getSortFun(_){return this.sortFuns[_]}static{this.\u0275fac=function(){let _;return function(L){return(_||(_=t.xGo(C)))(L||C)}}()}static{this.\u0275dir=t.FsC({type:C,inputs:{raceOrder:"raceOrder",inheritOrder:"inheritOrder",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[t.Vt3]})}}return C})();var m=g(1090),r=g(177),o=g(8935),s=g(4341),a=g(4207),l=g(9108),c=g(361);const u=["class","app-demon-list-header"];function d(C,P){if(1&C&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&C){const _=t.XpG();t.BMQ("colSpan",_.statColIndices.length),t.R7$(1),t.JRh(t.i5U(2,2,_.msgs.Stats,_.lang))}}function v(C,P){if(1&C&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&C){const _=t.XpG();t.BMQ("colSpan",_.resistColIndices.length),t.R7$(1),t.JRh(t.i5U(2,2,_.msgs.Resistances,_.lang))}}function p(C,P){if(1&C&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&C){const _=t.XpG();t.BMQ("colSpan",_.affinityColIndices.length),t.R7$(1),t.JRh(t.i5U(2,2,_.msgs.Affinities,_.lang))}}function f(C,P){1&C&&(t.j41(0,"th",5),t.EFF(1,"Enemy"),t.k0s())}function R(C,P){if(1&C){const _=t.RV6();t.j41(0,"th",2),t.bIt("click",function(){t.eBV(_);const L=t.XpG();return t.Njj(L.nextSortFunIndex(4))}),t.EFF(1,"Inherits"),t.k0s()}if(2&C){const _=t.XpG();t.Y8G("ngClass",_.sortDirClass(4))}}function h(C,P){if(1&C){const _=t.RV6();t.j41(0,"th",6),t.bIt("click",function(){const U=t.eBV(_).$implicit,J=t.XpG();return t.Njj(J.nextSortFunIndex(U.index))}),t.EFF(1),t.k0s()}if(2&C){const _=P.$implicit;t.R7$(1),t.SpI(" ",_.stat," ")}}function D(C,P){if(1&C){const _=t.RV6();t.j41(0,"th",6),t.bIt("click",function(){const U=t.eBV(_).$implicit,J=t.XpG();return t.Njj(J.nextSortFunIndex(U.index))}),t.nrm(1,"div"),t.k0s()}if(2&C){const _=P.$implicit;t.R7$(1),t.ZvI("element-icon ",_.elem,"")}}function k(C,P){if(1&C){const _=t.RV6();t.j41(0,"th",6),t.bIt("click",function(){const U=t.eBV(_).$implicit,J=t.XpG();return t.Njj(J.nextSortFunIndex(U.index))}),t.nrm(1,"div"),t.k0s()}if(2&C){const _=P.$implicit;t.R7$(1),t.ZvI("element-icon ",_.elem,"")}}function F(C,P){1&C&&(t.j41(0,"th"),t.EFF(1,"Drops"),t.k0s())}function y(C,P){1&C&&(t.j41(0,"th"),t.EFF(1,"Appears"),t.k0s())}let j=(()=>{class C extends e.O{constructor(){super(...arguments),this.isEnemy=!1,this.isPersona=!1,this.hasInherits=!1,this.lang="en",this.statHeaders=[],this.resistHeaders=[],this.affinityHeaders=[],this.statColIndices=[],this.resistColIndices=[],this.reslvlColIndices=[],this.affinityColIndices=[],this.msgs=m.vC}ngOnInit(){this.nextColIndices()}nextColIndices(){let _=this.hasInherits?5:4;this.statHeaders&&(this.statColIndices=this.statHeaders.map((T,L)=>({stat:T,index:L+_})),_+=this.statHeaders.length),this.resistHeaders&&(this.resistColIndices=this.resistHeaders.map((T,L)=>({elem:T,index:L+_})),_+=this.resistHeaders.length),this.affinityHeaders&&(this.affinityColIndices=this.affinityHeaders.map((T,L)=>({elem:T,index:L+_})))}static{this.\u0275fac=function(){let _;return function(L){return(_||(_=t.xGo(C)))(L||C)}}()}static{this.\u0275cmp=t.VBU({type:C,selectors:[["tfoot",8,"app-demon-list-header"]],inputs:{isEnemy:"isEnemy",isPersona:"isPersona",hasInherits:"hasInherits",lang:"lang",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[t.Vt3],attrs:u,decls:26,vars:26,consts:[[4,"ngIf"],["colspan","2",4,"ngIf"],[1,"sortable",3,"ngClass","click"],["class","sortable",3,"ngClass","click",4,"ngIf"],["class","sortable",3,"click",4,"ngFor","ngForOf"],["colspan","2"],[1,"sortable",3,"click"]],template:function(T,L){1&T&&(t.j41(0,"tr")(1,"th"),t.EFF(2),t.nI1(3,"translateComp"),t.k0s(),t.DNE(4,d,3,5,"th",0),t.DNE(5,v,3,5,"th",0),t.DNE(6,p,3,5,"th",0),t.DNE(7,f,2,0,"th",1),t.k0s(),t.j41(8,"tr")(9,"th",2),t.bIt("click",function(){return L.nextSortFunIndex(1)}),t.j41(10,"span"),t.EFF(11),t.nI1(12,"translateComp"),t.k0s()(),t.j41(13,"th",2),t.bIt("click",function(){return L.nextSortFunIndex(2)}),t.j41(14,"span"),t.EFF(15,"Lvl"),t.k0s()(),t.j41(16,"th",2),t.bIt("click",function(){return L.nextSortFunIndex(3)}),t.j41(17,"span"),t.EFF(18),t.nI1(19,"translateComp"),t.k0s()(),t.DNE(20,R,2,1,"th",3),t.DNE(21,h,2,1,"th",4),t.DNE(22,D,2,3,"th",4),t.DNE(23,k,2,3,"th",4),t.DNE(24,F,2,0,"th",0),t.DNE(25,y,2,0,"th",0),t.k0s()),2&T&&(t.R7$(1),t.BMQ("colSpan",L.hasInherits?4:3),t.R7$(1),t.JRh(t.i5U(3,17,L.isEnemy?L.msgs.Shadow:L.isPersona?L.msgs.Persona:L.msgs.Demon,L.lang)),t.R7$(2),t.Y8G("ngIf",L.statColIndices.length),t.R7$(1),t.Y8G("ngIf",L.resistColIndices.length),t.R7$(1),t.Y8G("ngIf",L.affinityColIndices.length),t.R7$(1),t.Y8G("ngIf",L.isEnemy),t.R7$(2),t.Y8G("ngClass",L.sortDirClass(1)),t.R7$(2),t.JRh(t.i5U(12,20,L.msgs.Race,L.lang)),t.R7$(2),t.Y8G("ngClass",L.sortDirClass(2)),t.R7$(3),t.Y8G("ngClass",L.sortDirClass(3)),t.R7$(2),t.JRh(t.i5U(19,23,L.msgs.Name,L.lang)),t.R7$(2),t.Y8G("ngIf",L.hasInherits),t.R7$(1),t.Y8G("ngForOf",L.statColIndices),t.R7$(1),t.Y8G("ngForOf",L.resistColIndices),t.R7$(1),t.Y8G("ngForOf",L.affinityColIndices),t.R7$(1),t.Y8G("ngIf",L.isEnemy),t.R7$(1),t.Y8G("ngIf",L.isEnemy))},dependencies:[r.YU,r.Sq,r.bT,a.uz],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding-right:.6em}"],changeDetection:0})}}return C})();const $=["class","app-smt-demon-list-row"];function H(C,P){if(1&C&&(t.j41(0,"td"),t.EFF(1),t.nI1(2,"lvlToNumber"),t.k0s()),2&C){const _=t.XpG();t.R7$(1),t.JRh(t.bMT(2,1,_.data.lvl))}}function M(C,P){if(1&C){const _=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(_);const L=t.XpG(2);return t.Njj(L.updateCurrRange())}),t.EFF(1),t.k0s()}if(2&C){const _=t.XpG(2);t.R7$(1),t.SpI("",_.data.currLvl," \u270e")}}function N(C,P){if(1&C&&(t.j41(0,"option",11),t.EFF(1),t.k0s()),2&C){const _=P.index,T=t.XpG(3);t.Y8G("value",_+T.currOffset),t.R7$(1),t.JRh(_+T.currOffset)}}function A(C,P){if(1&C){const _=t.RV6();t.j41(0,"select",10),t.bIt("change",function(L){t.eBV(_);const U=t.XpG(2);return t.Njj(U.emitValidLvl(L))}),t.j41(1,"option",11),t.EFF(2),t.k0s(),t.DNE(3,N,2,2,"option",12),t.k0s()}if(2&C){const _=t.XpG(2);t.R7$(1),t.Y8G("value",_.data.currLvl),t.R7$(1),t.JRh(_.data.currLvl),t.R7$(1),t.Y8G("ngForOf",_.currRange)}}function b(C,P){if(1&C&&(t.j41(0,"td",6),t.DNE(1,M,2,1,"button",7),t.DNE(2,A,4,3,"select",8),t.k0s()),2&C){const _=t.XpG();t.R7$(1),t.Y8G("ngIf",!_.currOffset),t.R7$(1),t.Y8G("ngIf",_.currOffset)}}const Y=function(C){return["element-icon",C]};function w(C,P){if(1&C&&(t.j41(0,"td")(1,"div",0),t.EFF(2),t.k0s()()),2&C){const _=t.XpG();t.R7$(1),t.Y8G("ngClass",t.eq3(2,Y,"i"+_.data.inherits)),t.R7$(1),t.JRh(_.data.inherits)}}function W(C,P){if(1&C&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&C){const _=P.$implicit;t.R7$(1),t.JRh(_)}}const X=function(C){return["resists",C]};function E(C,P){if(1&C&&(t.j41(0,"td",0),t.nI1(1,"reslvlToColor"),t.EFF(2),t.nI1(3,"reslvlToStringJa"),t.k0s()),2&C){const _=P.$implicit,T=t.XpG();t.Y8G("ngClass",t.eq3(7,X,t.bMT(1,2,_))),t.R7$(2),t.SpI(" ",t.i5U(3,4,_,T.lang)," ")}}function B(C,P){if(1&C&&(t.j41(0,"td",0),t.EFF(1),t.nI1(2,"affinityToString"),t.k0s()),2&C){const _=P.$implicit;t.Y8G("ngClass","affinity"+_),t.R7$(1),t.SpI(" ",t.bMT(2,2,_)," ")}}function I(C,P){if(1&C&&(t.qex(0),t.DNE(1,B,3,4,"td",5),t.bVm()),2&C){const _=t.XpG();t.R7$(1),t.Y8G("ngForOf",_.data.affinities)}}function G(C,P){if(1&C&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&C){const _=t.XpG();t.R7$(1),t.JRh(_.data.drop)}}function O(C,P){if(1&C&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&C){const _=t.XpG();t.R7$(1),t.JRh(_.data.area)}}const K=function(C){return["align",C]},V=["filterInput"],Q=function(C,P){return{special:C,exception:P}};function z(C,P){if(1&C){const _=t.RV6();t.j41(0,"tr",10),t.bIt("currLvl",function(L){const J=t.eBV(_).$implicit,tt=t.XpG();return t.Njj(tt.lvlChanged.emit({demon:J.name,currLvl:L}))}),t.k0s()}if(2&C){const _=P.$implicit,T=t.XpG();t.Y8G("isEnemy",T.isEnemy)("hasCurrLvl",T.hasCurrLvl)("hasInherits",!!T.inheritOrder)("hasAffinity",!!T.affinityHeaders)("lang",T.lang)("ngClass",t.l_i(7,Q,"special"===_.fusion,"special"!==_.fusion&&"normal"!==_.fusion))("data",_)}}let Z=(()=>{class C{constructor(){this.isEnemy=!1,this.hasCurrLvl=!1,this.hasInherits=!1,this.hasAffinity=!1,this.lang="en",this.currLvl=new t.bkB,this.currOffset=0,this.currRange=Array(0)}updateCurrRange(){0===this.currOffset&&(this.currOffset=Math.floor(this.data.lvl),this.currRange=Array(100-this.currOffset))}emitValidLvl(_){const T=parseInt(_.target.value,10);this.data.currLvl!==T&&0<T&&T<100&&Number.isInteger(T)&&(this.data.currLvl=T,this.currLvl.emit(T))}static{this.\u0275fac=function(T){return new(T||C)}}static{this.\u0275cmp=t.VBU({type:C,selectors:[["tr",8,"app-smt-demon-list-row"]],inputs:{isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",hasInherits:"hasInherits",hasAffinity:"hasAffinity",lang:"lang",data:"data"},outputs:{currLvl:"currLvl"},attrs:$,decls:13,vars:14,consts:[[3,"ngClass"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"click",4,"ngIf"],[3,"change",4,"ngIf"],[3,"click"],[3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(T,L){1&T&&(t.j41(0,"td",0),t.EFF(1),t.k0s(),t.DNE(2,H,3,3,"td",1),t.DNE(3,b,3,2,"td",2),t.j41(4,"td")(5,"a",3),t.EFF(6),t.k0s()(),t.DNE(7,w,3,4,"td",1),t.DNE(8,W,2,1,"td",4),t.DNE(9,E,4,9,"td",5),t.DNE(10,I,2,1,"ng-container",1),t.DNE(11,G,2,1,"td",1),t.DNE(12,O,2,1,"td",1)),2&T&&(t.Y8G("ngClass",t.eq3(12,K,L.data.align?L.data.align:"none")),t.R7$(1),t.JRh(L.data.race),t.R7$(1),t.Y8G("ngIf",!L.hasCurrLvl),t.R7$(1),t.Y8G("ngIf",L.hasCurrLvl),t.R7$(2),t.Y8G("routerLink",L.data.name),t.R7$(1),t.JRh(L.data.name),t.R7$(1),t.Y8G("ngIf",L.hasInherits),t.R7$(1),t.Y8G("ngForOf",L.data.stats),t.R7$(1),t.Y8G("ngForOf",L.data.resists),t.R7$(1),t.Y8G("ngIf",L.hasAffinity),t.R7$(1),t.Y8G("ngIf",L.isEnemy),t.R7$(1),t.Y8G("ngIf",L.isEnemy))},dependencies:[r.YU,r.Sq,r.bT,o.Wk,s.xH,s.y7,a.XM,a.Z2,a.g7,a.Fz],encapsulation:2,changeDetection:0})}}return C})(),q=(()=>{class C extends i{constructor(){super(...arguments),this.isPersona=!1,this.isEnemy=!1,this.hasCurrLvl=!1,this.lang="en",this.lvlChanged=new t.bkB,this.msgs=m.vC,this.filterText="",this.filteredRowData=[]}ngOnInit(){super.ngOnInit(),this.filteredRowData=this.rowData}ngOnChanges(_){_.rowData&&this.applyFilter()}applyFilter(){if(!this.filterText.trim())return void(this.filteredRowData=this.rowData);const _=this.filterText.toLowerCase();this.filteredRowData=this.rowData.filter(T=>[T.race||"",T.lvl?.toString()||"",T.name||"",T.stats?.join(" ")||"",this.isEnemy&&T.drop||"",this.isEnemy&&T.area||""].join(" ").toLowerCase().includes(_))}ngAfterViewInit(){this.filterInput.nativeElement.focus()}static{this.\u0275fac=function(){let _;return function(L){return(_||(_=t.xGo(C)))(L||C)}}()}static{this.\u0275cmp=t.VBU({type:C,selectors:[["app-smt-demon-list"]],viewQuery:function(T,L){if(1&T&&t.GBs(V,5),2&T){let U;t.mGM(U=t.lsd())&&(L.filterInput=U.first)}},inputs:{isPersona:"isPersona",isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",lang:"lang"},outputs:{lvlChanged:"lvlChanged"},features:[t.Jv_([n.P]),t.Vt3,t.OA$],decls:12,vars:23,consts:[[1,"filter-container"],["type","text",3,"placeholder","ngModel","ngModelChange","input"],["filterInput",""],["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-demon-list-header","sticky-header",3,"isPersona","isEnemy","lang","hasInherits","statHeaders","resistHeaders","affinityHeaders","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-demon-list-header",3,"isPersona","isEnemy","lang","hasInherits","statHeaders","resistHeaders","affinityHeaders"],["hiddenHeader",""],["class","app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","lang","ngClass","data","currLvl",4,"ngFor","ngForOf"],[1,"app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","lang","ngClass","data","currLvl"]],template:function(T,L){1&T&&(t.j41(0,"div",0)(1,"input",1,2),t.bIt("ngModelChange",function(J){return L.filterText=J})("input",function(){return L.applyFilter()}),t.nI1(3,"translateComp"),t.k0s()(),t.j41(4,"table",3)(5,"tfoot",4,5),t.bIt("sortFunIndexChanged",function(J){return L.sortFunIndex=J}),t.k0s()(),t.j41(7,"table",6),t.nrm(8,"tfoot",7,8),t.j41(10,"tbody"),t.DNE(11,z,1,10,"tr",9),t.k0s()()),2&T&&(t.R7$(1),t.Y8G("placeholder",L.isEnemy?L.msgs.Placeholder.Shadow:L.isPersona?L.msgs.Placeholder.Persona:t.i5U(3,20,L.msgs.Placeholder.Demon,L.lang))("ngModel",L.filterText),t.R7$(4),t.Y8G("isPersona",L.isPersona)("isEnemy",L.isEnemy)("lang",L.lang)("hasInherits",!!L.inheritOrder)("statHeaders",L.statHeaders)("resistHeaders",L.resistHeaders)("affinityHeaders",L.affinityHeaders)("sortFunIndex",L.sortFunIndex),t.R7$(3),t.xc7("visibility","collapse"),t.Y8G("isPersona",L.isPersona)("isEnemy",L.isEnemy)("lang",L.lang)("hasInherits",!!L.inheritOrder)("statHeaders",L.statHeaders)("resistHeaders",L.resistHeaders)("affinityHeaders",L.affinityHeaders),t.R7$(3),t.Y8G("ngForOf",L.filteredRowData))},dependencies:[r.YU,r.Sq,s.me,s.BC,l.a,c.N,s.vS,j,Z,a.uz],encapsulation:2,changeDetection:0})}}return C})()},2940:(x,S,g)=>{g.d(S,{p:()=>X,t:()=>W});var t=g(3885),n=g(6661),e=g(2598);let i=(()=>{class E extends n.r{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[(I,G)=>1e4*(this.elemOrder[I.element]-this.elemOrder[G.element])+I.rank-G.rank,(I,G)=>1e4*(this.elemOrder[I.element]-this.elemOrder[G.element])+I.rank-G.rank,(I,G)=>I.name.localeCompare(G.name),(I,G)=>G.cost-I.cost,(I,G)=>I.rank-G.rank],this.inheritOrder&&this.sortFuns.push((I,G)=>this.inheritOrder[I.inherit]-this.inheritOrder[G.inherit])}getSortFun(I){return this.sortFuns[I]}static{this.\u0275fac=function(){let I;return function(O){return(I||(I=e.xGo(E)))(O||E)}}()}static{this.\u0275dir=e.FsC({type:E,inputs:{elemOrder:"elemOrder",inheritOrder:"inheritOrder"},features:[e.Vt3]})}}return E})();var m=g(177),r=g(8935),o=g(4207),s=g(9108),a=g(361),l=g(1090);const c=["class","app-skill-list-header"];function u(E,B){if(1&E&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&E){const I=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,I.msgs.Target,I.lang))}}function d(E,B){if(1&E){const I=e.RV6();e.j41(0,"th",0),e.bIt("click",function(){e.eBV(I);const O=e.XpG();return e.Njj(O.nextSortFunIndex(4))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translateComp"),e.k0s()()}if(2&E){const I=e.XpG();e.Y8G("ngClass",I.sortDirClass(4)),e.R7$(2),e.JRh(e.i5U(3,2,I.msgs.Rank,I.lang))}}function v(E,B){if(1&E){const I=e.RV6();e.j41(0,"th",0),e.bIt("click",function(){e.eBV(I);const O=e.XpG();return e.Njj(O.nextSortFunIndex(5))}),e.j41(1,"span"),e.EFF(2,"Inherit"),e.k0s()()}if(2&E){const I=e.XpG();e.Y8G("ngClass",I.sortDirClass(5))}}function p(E,B){if(1&E&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&E){const I=e.XpG();e.R7$(1),e.JRh(I.transferTitle)}}let f=(()=>{class E extends n.O{constructor(){super(...arguments),this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.lang="en",this.transferTitle="",this.skillHeaderLen=4,this.acquireHeaderLen=1,this.msgs=l.vf}ngOnInit(){this.nextColIndices()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1),this.transferTitle&&(this.acquireHeaderLen+=1)}static{this.\u0275fac=function(){let I;return function(O){return(I||(I=e.xGo(E)))(O||E)}}()}static{this.\u0275cmp=e.VBU({type:E,selectors:[["tfoot",8,"app-skill-list-header"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",lang:"lang",transferTitle:"transferTitle"},features:[e.Vt3],attrs:c,decls:30,vars:37,consts:[[1,"sortable",3,"ngClass","click"],[1,"cost"],[4,"ngIf"],["class","sortable",3,"ngClass","click",4,"ngIf"]],template:function(G,O){1&G&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translateComp"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translateComp"),e.k0s()(),e.j41(7,"tr")(8,"th",0),e.bIt("click",function(){return O.nextSortFunIndex(1)}),e.j41(9,"span"),e.EFF(10),e.nI1(11,"translateComp"),e.k0s()(),e.j41(12,"th",0),e.bIt("click",function(){return O.nextSortFunIndex(2)}),e.j41(13,"span"),e.EFF(14),e.nI1(15,"translateComp"),e.k0s()(),e.j41(16,"th",0),e.bIt("click",function(){return O.nextSortFunIndex(3)}),e.j41(17,"span",1),e.EFF(18),e.nI1(19,"translateComp"),e.k0s()(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"translateComp"),e.k0s(),e.DNE(23,u,3,4,"th",2),e.DNE(24,d,4,5,"th",3),e.DNE(25,v,3,1,"th",3),e.j41(26,"th"),e.EFF(27),e.nI1(28,"translateComp"),e.k0s(),e.DNE(29,p,2,1,"th",2),e.k0s()),2&G&&(e.R7$(1),e.BMQ("colSpan",O.skillHeaderLen),e.R7$(1),e.JRh(e.i5U(3,16,O.msgs.Skill,O.lang)),e.R7$(2),e.BMQ("colSpan",O.acquireHeaderLen),e.R7$(1),e.JRh(e.i5U(6,19,O.msgs.HowToAcquire,O.lang)),e.R7$(3),e.Y8G("ngClass",O.sortDirClass(1)),e.R7$(2),e.JRh(e.i5U(11,22,O.msgs.Elem,O.lang)),e.R7$(2),e.Y8G("ngClass",O.sortDirClass(2)),e.R7$(2),e.JRh(e.i5U(15,25,O.msgs.Name,O.lang)),e.R7$(2),e.Y8G("ngClass",O.sortDirClass(3)),e.R7$(2),e.JRh(e.i5U(19,28,O.msgs.Cost,O.lang)),e.R7$(3),e.JRh(e.i5U(22,31,O.msgs.Effect,O.lang)),e.R7$(2),e.Y8G("ngIf",O.hasTarget),e.R7$(1),e.Y8G("ngIf",O.hasRank),e.R7$(1),e.Y8G("ngIf",O.hasInherit),e.R7$(2),e.JRh(e.i5U(28,34,O.msgs.LearnedBy,O.lang)),e.R7$(2),e.Y8G("ngIf",O.transferTitle))},dependencies:[m.YU,m.bT,o.uz],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding:.6em}span.cost[_ngcontent-%COMP%]{padding:1.2em}"],changeDetection:0})}}return E})();const R=["class","app-smt-skill-list-row"];function h(E,B){if(1&E&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&E){const I=e.XpG();e.R7$(1),e.LHq(" ",I.data.damage," ",I.data.element," damage",I.data.hits?" x"+I.data.hits:"","",I.data.effect?", "+I.data.effect:""," ")}}function D(E,B){if(1&E&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&E){const I=e.XpG();e.R7$(1),e.JRh(I.data.effect)}}function k(E,B){if(1&E&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()()),2&E){const I=e.XpG();e.R7$(1),e.ZvI("target-icon a",I.data.target||"Self",""),e.R7$(1),e.JRh(I.data.target||"Self")}}function F(E,B){if(1&E&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&E){const I=e.XpG();e.xc7("color",99!==I.data.rank?null:"transparent"),e.R7$(1),e.JRh(I.data.rank)}}function y(E,B){if(1&E&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()()),2&E){const I=e.XpG();e.R7$(1),e.ZvI("element-icon ",I.data.inherit,""),e.R7$(1),e.JRh(I.data.inherit)}}function j(E,B){if(1&E&&(e.j41(0,"td",3),e.EFF(1),e.nI1(2,"skillLevelToString"),e.k0s()),2&E){const I=e.XpG();e.Y8G("ngClass","lvl"+I.data.level.toString()),e.R7$(1),e.JRh(e.bMT(2,2,I.data.level))}}function $(E,B){if(1&E&&(e.j41(0,"li")(1,"a",6),e.EFF(2),e.k0s(),e.EFF(3),e.nI1(4,"skillLevelToShortString"),e.k0s()),2&E){const I=B.$implicit,G=e.XpG(2);e.R7$(1),e.FCK("routerLink","../",G.isPersona?"personas":"demons","/",I.demon,""),e.R7$(1),e.JRh(I.demon),e.R7$(1),e.SpI(" ",e.bMT(4,4,I.level)," ")}}function H(E,B){if(1&E&&(e.j41(0,"td")(1,"ul",4),e.DNE(2,$,5,6,"li",5),e.k0s()()),2&E){const I=e.XpG();e.R7$(2),e.Y8G("ngForOf",I.data.learnedBy)}}function M(E,B){if(1&E&&(e.qex(0),e.j41(1,"a",6),e.EFF(2),e.k0s(),e.EFF(3),e.nI1(4,"skillLevelToShortString"),e.bVm()),2&E){const I=e.XpG().$implicit,G=e.XpG(2);e.R7$(1),e.FCK("routerLink","../",G.hasSkillCards?"personas":"demons","/",I.demon,""),e.R7$(1),e.JRh(I.demon),e.R7$(1),e.SpI(" ",e.bMT(4,4,I.level)," ")}}function N(E,B){if(1&E&&(e.qex(0),e.EFF(1),e.bVm()),2&E){const I=e.XpG().$implicit;e.R7$(1),e.SpI("",I.demon," ")}}function A(E,B){if(1&E&&(e.j41(0,"li"),e.DNE(1,M,5,6,"ng-container",0),e.DNE(2,N,2,1,"ng-container",0),e.k0s()),2&E){const I=B.$implicit;e.R7$(1),e.Y8G("ngIf",I.level>=-99),e.R7$(1),e.Y8G("ngIf",I.level<-99)}}function b(E,B){if(1&E&&(e.j41(0,"td")(1,"ul",4),e.DNE(2,A,3,2,"li",5),e.k0s()()),2&E){const I=e.XpG();e.R7$(2),e.Y8G("ngForOf",I.data.transfer)}}const Y=function(E,B){return{extra:E,unique:B}};function w(E,B){if(1&E&&e.nrm(0,"tr",7),2&E){const I=B.$implicit,G=e.XpG();e.Y8G("hasInherit",!!G.inheritOrder)("hasTarget",G.hasTarget)("hasRank",G.hasRank)("isPersona",G.isPersona)("hasTransferTitle",!!G.transferTitle)("hasSkillCards",G.transferTitle.includes("Card"))("data",I)("ngClass",e.l_i(8,Y,I.rank>70&&I.rank<90,I.rank>90))}}let W=(()=>{class E{constructor(){this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.hasLearned=!0,this.hasLvl=!1,this.isPersona=!1,this.hasTransferTitle=!1,this.hasSkillCards=!1,this.skillLvl=-1}static{this.\u0275fac=function(G){return new(G||E)}}static{this.\u0275cmp=e.VBU({type:E,selectors:[["tr",8,"app-smt-skill-list-row"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLearned:"hasLearned",hasLvl:"hasLvl",isPersona:"isPersona",hasTransferTitle:"hasTransferTitle",hasSkillCards:"hasSkillCards",skillLvl:"skillLvl",data:"data"},attrs:R,decls:16,vars:18,consts:[[4,"ngIf"],[3,"color",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"comma-list"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(G,O){1&G&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"skillCostToString"),e.k0s(),e.DNE(8,h,2,4,"td",0),e.DNE(9,D,2,1,"td",0),e.DNE(10,k,3,4,"td",0),e.DNE(11,F,2,3,"td",1),e.DNE(12,y,3,4,"td",0),e.DNE(13,j,3,4,"td",2),e.DNE(14,H,3,1,"td",0),e.DNE(15,b,3,1,"td",0)),2&G&&(e.R7$(1),e.ZvI("element-icon ",O.data.element,""),e.R7$(1),e.JRh(O.data.element),e.R7$(2),e.JRh(O.data.name),e.R7$(1),e.xc7("color",O.data.cost?null:"transparent"),e.R7$(1),e.JRh(e.bMT(7,16,O.data.cost)),e.R7$(2),e.Y8G("ngIf",O.data.damage),e.R7$(1),e.Y8G("ngIf",!O.data.damage),e.R7$(1),e.Y8G("ngIf",O.hasTarget),e.R7$(1),e.Y8G("ngIf",O.hasRank),e.R7$(1),e.Y8G("ngIf",O.hasInherit),e.R7$(1),e.Y8G("ngIf",O.hasLvl),e.R7$(1),e.Y8G("ngIf",O.hasLearned),e.R7$(1),e.Y8G("ngIf",O.hasTransferTitle))},dependencies:[m.YU,m.Sq,m.bT,r.Wk,o.X2,o.Q3,o.wv],encapsulation:2,changeDetection:0})}}return E})(),X=(()=>{class E extends i{constructor(){super(...arguments),this.hasTarget=!1,this.hasRank=!0,this.isPersona=!1,this.lang="en",this.transferTitle=""}static{this.\u0275fac=function(){let I;return function(O){return(I||(I=e.xGo(E)))(O||E)}}()}static{this.\u0275cmp=e.VBU({type:E,selectors:[["app-smt-skill-list"]],inputs:{hasTarget:"hasTarget",hasRank:"hasRank",isPersona:"isPersona",lang:"lang",transferTitle:"transferTitle"},features:[e.Jv_([t.P]),e.Vt3],decls:8,vars:14,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-skill-list-header","sticky-header",3,"hasInherit","hasTarget","hasRank","lang","transferTitle","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-skill-list-header",3,"hasInherit","hasTarget","hasRank","lang","transferTitle"],["hiddenHeader",""],["class","app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass"]],template:function(G,O){1&G&&(e.j41(0,"table",0)(1,"tfoot",1,2),e.bIt("sortFunIndexChanged",function(V){return O.sortFunIndex=V}),e.k0s()(),e.j41(3,"table",3),e.nrm(4,"tfoot",4,5),e.j41(6,"tbody"),e.DNE(7,w,1,11,"tr",6),e.k0s()()),2&G&&(e.R7$(1),e.Y8G("hasInherit",!!O.inheritOrder)("hasTarget",O.hasTarget)("hasRank",O.hasRank)("lang",O.lang)("transferTitle",O.transferTitle)("sortFunIndex",O.sortFunIndex),e.R7$(3),e.xc7("visibility","collapse"),e.Y8G("hasInherit",!!O.inheritOrder)("hasTarget",O.hasTarget)("hasRank",O.hasRank)("lang",O.lang)("transferTitle",O.transferTitle),e.R7$(3),e.Y8G("ngForOf",O.rowData))},dependencies:[m.YU,m.Sq,s.a,a.N,f,W],encapsulation:2,changeDetection:0})}}return E})()},6947:(x,S,g)=>{g.d(S,{HI:()=>d,I4:()=>j,RT:()=>F,Se:()=>k,_J:()=>R,eG:()=>p,iJ:()=>v,nv:()=>f,ov:()=>h,ty:()=>D,zm:()=>y});var t=g(2598),n=g(7396),e=g(7605),i=g(7101),m=g(7178),r=g(2338),o=g(6208),s=g(9910),a=g(3515),l=g(8939),c=g(1080),u=g(3357);const d=new t.nKC("compendium.config"),v=new t.nKC("fusion.data.service"),p=new t.nKC("fusion.trio.service"),f=new n.s([e.Cx,e.Hy,e.GW],[i.Dy,i.sk,i.Dc]),R=new n.s([e.Cx,e.Hy,e.GW,o.j],[i.Dy,i.sk,i.Dc]),h=new n.s([m.Hr,m.Hg,m.rj,m.Sm],[r.X]),D=new n.s([m.Hr,m.Hg,m.rj,o.i],[r.X]),k=new n.s([e.Cx,s.H],[]),F=new n.s([m.Hr,a.gt],[]),y=new l.$([c.FE,c.LW,c.Hy],[]),j=new l.$([u.Hr,u.gt,u.c7],[]);!function $(N){const A={};for(let b=0;b<N.length;b++)A[N[b]]=b}(["wk","no","rs","st","nu","rp","dr","ab"])},9404:(x,S,g)=>{g.d(S,{M:()=>e});var t=g(1985),n=g(2598);let e=(()=>{class i{constructor(r,o,s){this.title2=r,this.changeDetectorRef=o,this.fusionDataService2=s,this.subscriptions=[],this.appName="List of Demons - Megami Tensei Fusion Tools",this.initListLen=50,this.showAllies=!0,this.showEnemies=!1,this.defaultSortFun=(a,l)=>a.name.localeCompare(l.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const r of this.subscriptions)r.unsubscribe()}onCompendiumUpdated(r){this.changeDetectorRef.markForCheck(),this.demons=t.c.create(o=>{let s=r.allDemons;this.showAllies||(s=s.filter(a=>a.isEnemy)),this.showEnemies||(s=s.filter(a=>!a.isEnemy)),s.sort(this.defaultSortFun),o.next(s.slice(0,this.initListLen)),setTimeout(()=>o.next(s))})}static{this.\u0275fac=function(o){n.QTQ()}}static{this.\u0275dir=n.FsC({type:i})}}return i})()},9454:(x,S,g)=>{g.d(S,{E:()=>e});var t=g(1985),n=g(2598);let e=(()=>{class i{constructor(r,o,s){this.title2=r,this.changeDetectorRef2=o,this.fusionDataService2=s,this.subscriptions=[],this.initListLen=50,this.appName="List of Skills - Test App",this.defaultSortFun=(a,l)=>a.name.localeCompare(l.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const r of this.subscriptions)r.unsubscribe()}onCompendiumUpdated(r){this.changeDetectorRef2.markForCheck(),this.skills=t.c.create(o=>{const s=r.allSkills;s.sort(this.defaultSortFun),o.next(s.slice(0,this.initListLen)),setTimeout(()=>o.next(s))})}static{this.\u0275fac=function(o){n.QTQ()}}static{this.\u0275dir=n.FsC({type:i})}}return i})()},3515:(x,S,g)=>{function t(i,m,r){const{race:o,lvl:s}=m.getDemon(i),a=[];if(m.getSpecialNameEntries(i).length)return a;const l=m.getResultDemonLvls(o),c=l.indexOf(s);if(c<0)return a;const d=2*(s-1),v=l[c+1]?2*(l[c+1]-1):200,p=l[c+2]?2*(l[c+2]-1):200,f=m.getIngredientDemonLvls(o).filter(h=>h!==s),R=v/2+1;for(const h of f)R<h&&R+h<p&&a.push({name1:m.reverseLookupDemon(o,R),name2:m.reverseLookupDemon(o,h)});for(let h=0;h<f.length;h++){const D=f[h];for(let k=h+1;k<f.length;k++){const F=f[k];d<=D+F&&D+F<v&&a.push({name1:m.reverseLookupDemon(o,D),name2:m.reverseLookupDemon(o,F)})}}return a}function n(i,m,r){const o=[],{race:s,lvl:a}=m.getDemon(i),l=r.getElemModifiers(s),c=m.getResultDemonLvls(s),u=c.indexOf(a),d=Object.keys(l).map(v=>parseInt(v,10));if(d.sort(),-1===u)return o;for(const v of d)if(0<=u+v&&u+v<c.length){const p=c[u+v];o.push({price:p,names1:[m.reverseLookupDemon(s,p)],lvl1:p,names2:l[v],lvl2:p})}return o}function e(i,m,r){const o=[],{race:s,lvl:a}=m.getDemon(i),l=r.getElemModifiers(s),c=m.getResultDemonLvls(s).concat([99]),u=c.indexOf(a),d=[a];if(-1===u)return o;u>1&&l[2]&&o.push({price:0,names1:[],lvl1:c[u-2],names2:l[2],lvl2:c[u-1]-1}),u>0&&l[1]&&o.push({price:0,names1:[],lvl1:c[u-1],names2:l[1],lvl2:a-1}),l[-1]&&o.push({price:0,names1:[],lvl1:a+1,names2:l[-1],lvl2:c[u+1]}),u<c.length-2&&l[-1]&&(d.push(c[u+1]),o.push({price:0,names1:[m.reverseLookupDemon(s,c[u+1])],lvl1:c[u+1],names2:l[-1],lvl2:c[u+2]})),u<c.length-2&&l[-2]&&o.push({price:0,names2:l[-2],lvl1:c[u+1]+1,lvl2:c[u+2],names1:[]}),u<c.length-3&&l[-2]&&(d.push(c[u+2]),o.push({price:0,names1:[m.reverseLookupDemon(s,c[u+2])],lvl1:c[u+2],names2:l[-2],lvl2:c[u+3]}),o.push({price:0,names1:[m.reverseLookupDemon(s,c[u+1])],lvl1:c[u+2]+1,names2:l[-2],lvl2:c[u+3]}));for(const v of o.filter(p=>0===p.names1.length))for(const p of m.getIngredientDemonLvls(s).filter(f=>!d.includes(f)))p<=v.lvl2&&v.names1.push(m.reverseLookupDemon(s,p));for(const v of o)v.price=Math.pow(3*v.lvl1+7,2)+2e3;return o.filter(v=>v.names1.length>0)}g.d(S,{gt:()=>t,iB:()=>e,o4:()=>n})},9910:(x,S,g)=>{function t(n,e,i){const m=[],{race:r,lvl:o}=e.getDemon(n),a=e.getIngredientDemonLvls(r).filter(c=>c!==o),l=e.getResultDemonLvls(r).filter(c=>c!==o).map(c=>2*c);for(const c of a){let d=l.reduce((p,f)=>o+c+2>=f?p+1:p,-1);l[d]/2===c&&(d-=1);const v=l[d]/2;v&&m.push({name1:e.reverseLookupDemon(r,c),name2:e.reverseLookupDemon(r,v)})}return m}g.d(S,{H:()=>t})},3357:(x,S,g)=>{g.d(S,{Hr:()=>i,XN:()=>o,c7:()=>r,gt:()=>m});var t=g(1080),n=g(7178);function e(s,a){if(!a.length)return-1;let l=0;for(const c of a)s>c&&l++;return l===a.length?-1:l}function i(s,a,l){const{normalChart:c,tripleChart:u}=l,{raceOrder:d}=c,{race:v,lvl:p}=a.getDemon(s),f=3*u.lvlModifier,R=[],h=a.getResultDemonLvls(v),D=h.indexOf(p);if(-1===D)return R;const k={};for(const[$,H]of Object.entries(u.getRaceFissions(v))){k[$]||(k[$]=[]);for(const M of H)k[M]||(k[M]=[]),$!==M&&k[$].push(M),k[M].push($)}const F={};for(const[$,H]of Object.entries(k)){F[$]={};for(const M of H)for(const[N,A]of Object.entries(c.getRaceFissions(M)))F[$][N]||(F[$][N]=[]),F[$][N]=F[$][N].concat(A);for(const M of H)$!==M&&(F[$][M]||(F[$][M]=[]),F[$][M].push(M))}const y=h[D-1]?3*h[D-1]-f:0,j=3*p-f;for(const[$,H]of Object.entries(F))for(const M of a.getIngredientDemonLvls($)){const N=a.reverseLookupDemon($,M),A=a.getDemon(N).currLvl;if(N!==s){const b=y-M,Y=j-M;for(const[w,W]of Object.entries(H))for(const X of a.getIngredientDemonLvls(w)){const E=a.reverseLookupDemon(w,X),B=a.getDemon(E).currLvl;if(E!==N&&E!==s&&(A>B||A===B&&d[$]<d[w])){const I=b-X,G=Y-X;for(const O of W)for(const K of a.getIngredientDemonLvls(O)){const V=a.reverseLookupDemon(O,K),Q=a.getDemon(V).currLvl;V!==E&&V!==N&&V!==s&&(w!==O||X<K)&&(A>Q||A===Q&&d[$]<d[O])&&I<K&&K<=G&&R.push({name1:N,name2:E,name3:V})}}}}}return R}function m(s,a,l){const{tripleChart:u}=l,{race:d,lvl:v}=a.getDemon(s),p=u.lvlModifier,f=[],R=a.getIngredientDemonLvls(d).filter(D=>D!==v),h=a.getResultDemonLvls(d);for(let D=0;D<R.length;D++){const k=R[D],F=h.filter(j=>j!==k),y=a.reverseLookupDemon(d,k);for(let j=D+1;j<R.length;j++){const $=R[j],H=F.filter(N=>N!==$),M=a.reverseLookupDemon(d,$);for(let N=j+1;N<R.length;N++){const A=R[N],b=H.filter(X=>X!==A),Y=a.reverseLookupDemon(d,A),W=e((k+$+A)/3+p,b);-1!==W&&b[W]===v&&f.push({name1:y,name2:M,name3:Y})}}}return f}function r(s,a,l){const{race:c,lvl:u}=a.getDemon(s),d=a.getResultDemonLvls(c).slice();if(0<d.indexOf(u)){const v=a.reverseLookupDemon(c,d[d.indexOf(u)-1]);return[].concat((0,t.FE)(v,a,l).filter(f=>f.name3===s),(0,t.LW)(v,a,l).filter(f=>f.name3===s)).map(f=>({name1:f.name1,name2:f.name2,name3:v}))}return[]}function o(s,a,l){return(0,n.rj)(s,a,l.tripleChart).map(c=>{const[u,d]=c.name2.split(" x ");return{name1:c.name1,name2:u,name3:d}})}},1080:(x,S,g)=>{g.d(S,{FE:()=>e,Hy:()=>m,LW:()=>i,q6:()=>r});var t=g(7605);function n(o,s){if(!s.length)return-1;let a=0;for(const l of s)o>l&&a++;return a===s.length?-1:a}function e(o,s,a){const{normalChart:l,tripleChart:c}=a,{raceOrder:u}=l,{race:d,lvl:v,currLvl:p}=s.getDemon(o),f=3*c.lvlModifier,R=[],h=c.getRaceFusions(d),D={};for(const[k,F]of Object.entries(h)){D[k]||(D[k]={}),d!==k&&(D[k][k]=F);for(const[y,j]of Object.entries(l.getRaceFissions(k))){D[y]||(D[y]={});for(const $ of j)D[y][$]=F}}for(const[k,F]of Object.entries(D))for(const y of s.getIngredientDemonLvls(k)){const j=s.reverseLookupDemon(k,y),$=s.getDemon(j).currLvl;if(j!==o&&(p>$||p===$&&u[d]<u[k]))for(const[H,M]of Object.entries(F)){const N=s.getResultDemonLvls(M),A=N.map(b=>3*b-f-v-y);for(const b of s.getIngredientDemonLvls(H)){const Y=s.reverseLookupDemon(H,b),w=s.getDemon(Y).currLvl;if(Y!==j&&Y!==o&&(k!==H||y<b)&&(p>w||p===w&&u[d]<u[H]))if(s.isElementDemon(M))R.push({name1:j,name2:Y,name3:M});else{const W=n(b,A);if(-1!==W){const X=s.reverseLookupDemon(M,N[W]);X!==Y&&X!==j&&X!==o?R.push({name1:j,name2:Y,name3:X}):W+1<N.length&&R.push({name1:j,name2:Y,name3:s.reverseLookupDemon(M,N[W+1])})}}}}}return R}function i(o,s,a){const{normalChart:l,tripleChart:c}=a,{raceOrder:u}=l,{race:d,lvl:v,currLvl:p}=s.getDemon(o),f=3*c.lvlModifier,R=[],h={};h[d]=Object.assign({},c.getRaceFusions(d)),delete h[d][d];for(const[D,k]of Object.entries(l.getRaceFusions(d)))h[D]=c.getRaceFusions(k);for(const[D,k]of Object.entries(h))for(const F of s.getIngredientDemonLvls(D)){const y=s.reverseLookupDemon(D,F),j=s.getDemon(y).currLvl;if(y!==o)for(const[$,H]of Object.entries(k)){const M=s.getResultDemonLvls(H),N=M.map(A=>3*A-f-v-F);for(const A of s.getIngredientDemonLvls($)){const b=s.reverseLookupDemon($,A),Y=s.getDemon(b).currLvl;if(b!==y&&b!==o&&(Y>p||Y===p&&u[$]<u[d])&&(Y>j||Y===j&&u[$]<u[D]))if(s.isElementDemon(H))R.push({name1:y,name2:b,name3:H});else{const w=n(A,N);if(-1!==w){const W=s.reverseLookupDemon(H,M[w]);W!==b&&W!==y&&W!==o?R.push({name1:y,name2:b,name3:W}):w+1<M.length&&R.push({name1:y,name2:b,name3:s.reverseLookupDemon(H,M[w+1])})}}}}}return R}function m(o,s,a){const{tripleChart:c}=a,{race:u,lvl:d}=s.getDemon(o),v=c.getRaceFusions(u)[u],p=[];if(!v)return p;const f=s.getIngredientDemonLvls(u).filter(D=>D!==d),R=s.getResultDemonLvls(u).filter(D=>D!==d),h=c.lvlModifier;for(let D=0;D<f.length;D++){const k=f[D],F=R.filter(j=>j!==k),y=s.reverseLookupDemon(u,k);for(let j=D+1;j<f.length;j++){const $=f[j],H=F.filter(N=>N!==$),M=s.reverseLookupDemon(u,$);if(s.isElementDemon(v))p.push({name1:y,name2:M,name3:v});else{const A=n((k+d+$)/3+h,H);-1!==A&&p.push({name1:y,name2:M,name3:s.reverseLookupDemon(u,H[A])})}}}return p}function r(o,s,a){return(0,t.GW)(o,s,a.tripleChart).map(l=>{const[c,u]=l.name1.split(" x ");return{name1:c,name2:u,name3:l.name2}})}},2338:(x,S,g)=>{function t(n,e,i){const m=e.getSpecialNamePairs(n).slice();for(const[r,o]of Object.entries(i.getRaceFissions(n))){const s=e.getIngredientDemonLvls(r);for(let a=0;a<s.length;a++)for(let l=a+1;l<s.length;l++)m.push({name1:e.reverseLookupDemon(r,s[a]),name2:e.reverseLookupDemon(r,s[l])})}return m}g.d(S,{X:()=>t})},7101:(x,S,g)=>{function t(i,m,r){const o=[];for(const[s,a]of Object.entries(r.getElemFusions(i))){const l=m.getResultDemonLvls(s).filter(d=>d<100),c=a<0?l.slice(-1*a):l.slice(0,-1*a),u=a<0?l.slice(0,a):l.slice(a);for(let d=0;d<c.length;d++)o.push({name1:m.reverseLookupDemon(s,c[d]),name2:m.reverseLookupDemon(s,u[d])})}return o}function n(i,m,r){const o=[],s=r.getElemFusions(i);for(const{race:a,lvl:l,name:c}of m.specialDemons){const u=s[a];if(u){const d=(f,R)=>l>R?f+1:f,v=m.getResultDemonLvls(a).filter(f=>f<100),p=u+v.reduce(d,0);0<p&&p<v.length&&o.push({name1:c,name2:m.reverseLookupDemon(a,v[p])})}}return o}function e(i,m,r){return[]}g.d(S,{Dc:()=>e,Dy:()=>t,sk:()=>n})},7178:(x,S,g)=>{function t(m,r,o){const s=[],a=r.getSpecialNamePairs(m);if(a.length>0)if(a[0].name1===a[0].name2)m=a[0].name1;else if(m!==a[0].name1)return a;const{race:l,lvl:c}=r.getDemon(m),u=r.getResultDemonLvls(l),d=u.indexOf(c);if(-1===d)return[];const v=u[d-1]?2*(u[d-1]-o.lvlModifier):0,p=u[d+1]?2*(c-o.lvlModifier):200;for(const[f,R]of Object.entries(o.getRaceFissions(l)))for(const h of r.getIngredientDemonLvls(f)){const D=v-h,k=p-h;for(const F of R)for(const y of r.getIngredientDemonLvls(F))D<y&&y<=k&&(f!=F||h<y)&&s.push({name1:r.reverseLookupDemon(f,h),name2:r.reverseLookupDemon(F,y)})}return s}function n(m,r,o){const s=[],{race:a,lvl:l}=r.getDemon(m),c=Object.keys(o.getRaceFissions(a)).find(h=>"2"===h.charAt(0));if(!c)return s;const u=c.substring(1),d=r.getResultDemonLvls(u),v=d.indexOf(l);if(-1===v)return s;const p=d[v-2]||0,f=d[v-1]||0,R=d[v+1]?2*l:200;for(const[h,D]of Object.entries(o.getRaceFissions(u)))for(const k of r.getIngredientDemonLvls(h).filter(F=>F!==l))for(const F of D)for(const y of r.getIngredientDemonLvls(F).filter(j=>j!==l)){const $=k+y+o.lvlModifier;2*(k===f||y===f?p:f)<$&&$<=R&&s.push({name1:r.reverseLookupDemon(h,k),name2:r.reverseLookupDemon(F,y)})}return s}function e(m,r,o){const{race:s,lvl:a}=r.getDemon(m),l=[],c=o.getElemModifiers(s),u=Object.keys(c).map(p=>parseInt(p,10));if(r.getSpecialNamePairs(m).length||!u.length)return l;const d=[0,0].concat(r.getResultDemonLvls(s),[100,100]),v=[];for(const p of r.getIngredientDemonLvls(s)){const f=d.slice();f.indexOf(p)<0&&(f.push(p),f.sort((h,D)=>h-D));const R=f.indexOf(p);for(const h of u)f[R+h]===a&&v.push({ingName:r.reverseLookupDemon(s,p),elementOffset:h})}for(const p of v)for(const f of c[p.elementOffset])l.push({name1:p.ingName,name2:f});return l}function i(m,r,o){const s=[],a=r.getSpecialNamePairs(m);if(0===a.length||m!==a[0].name1)return s;const l=r.getDemon(a[0].name2).race;for(const[c,u]of Object.entries(o.getRaceFissions(l)))for(const d of r.getIngredientDemonLvls(c))for(const v of u)for(const p of r.getIngredientDemonLvls(v))s.push({name1:r.reverseLookupDemon(c,d),name2:r.reverseLookupDemon(v,p)});return s}g.d(S,{Hg:()=>n,Hr:()=>t,Sm:()=>i,rj:()=>e})},7605:(x,S,g)=>{function t(m,r){if(!r.length)return-1;let o=0;for(const s of r)m>s&&o++;return o===r.length?o-1:o}function n(m,r,o){const s=[],{race:a,lvl:l}=r.getDemon(m);for(const[c,u]of Object.entries(o.getRaceFusions(a))){const d=r.getResultDemonLvls(u),v=d.map(p=>2*(p-o.lvlModifier)-l);for(const p of r.getIngredientDemonLvls(c)){const f=t(p,v);if(-1!==f&&100!==d[f]&&(a!=c||l!=p)){const R=r.reverseLookupDemon(u,d[f]);s.push(R===m&&f+1<d.length?{name1:r.reverseLookupDemon(c,p),name2:r.reverseLookupDemon(u,d[f+1])}:{name1:r.reverseLookupDemon(c,p),name2:R})}}}for(const c of r.reverseLookupSpecial(m)){const u=r.getSpecialNameEntries(c);if(2===u.length){const d=u[0]===m?u[1]:u[0];for(const v of s)v.name1===d&&(v.name2=c)}}return s}function e(m,r,o){const{race:s,lvl:a}=r.getDemon(m),l=o.getRaceFusions(s)[s],c=r.getIngredientDemonLvls(s).filter(d=>d!==a),u=[];if(l&&r.isElementDemon(l))for(const d of c)u.push({name1:r.reverseLookupDemon(s,d),name2:l});return u}function i(m,r,o){const s=[],{race:a,lvl:l}=r.getDemon(m),c=[0,0].concat(r.getResultDemonLvls(a),[100,100]);c.indexOf(l)<0&&(c.push(l),c.sort((p,f)=>p-f));const u=c.indexOf(l),d=o.getElemModifiers(a),v=Object.keys(d).map(p=>parseInt(p,10));for(const p of v){const f=c[u+p];if(0!==f&&100!==f){const R=r.reverseLookupDemon(a,f);for(const h of d[p])s.push({name1:h,name2:R})}}return s}g.d(S,{Cx:()=>n,GW:()=>i,Hy:()=>e})},6208:(x,S,g)=>{function t(e,i,m){const{race:r,lvl:o}=i.getDemon(e),s=[0,0].concat(i.getResultDemonLvls(r),[100,100]),a=s.indexOf(o),l=[];if(m.getLightDark(r)<0||-1===a)return l;const c=s[a-2],u=s[a-1],d=s[a+1],v=0!==c?i.reverseLookupDemon(r,c):"",p=0!==u?i.reverseLookupDemon(r,u):"",f=100!==d?i.reverseLookupDemon(r,d):"";for(const R of m.races)if(m.getLightDark(R)<0)for(const h of i.getIngredientDemonLvls(R)){const D=i.reverseLookupDemon(R,h);c>=h&&(c+h)%7==0&&l.push({name1:v,name2:D}),u>=h&&(u+h)%7!=0&&(u+h)%5==0&&l.push({name1:p,name2:D}),d>=h&&(d+h)%7!=0&&(d+h)%5!=0&&(d+h)%3==0&&l.push({name1:f,name2:D})}return l.filter(R=>""!==R.name1)}function n(e,i,m){const{race:r,lvl:o}=i.getDemon(e),s=[0,0].concat(i.getResultDemonLvls(r),[100,100]),a=s.indexOf(o),l=[];if(m.getLightDark(r)<0||-1===a)return l;const c=s[a+2],u=s[a+1],d=s[a-1],v=100!==c?i.reverseLookupDemon(r,c):"",p=100!==u?i.reverseLookupDemon(r,u):"",f=0!==d?i.reverseLookupDemon(r,d):"";for(const R of m.races)if(m.getLightDark(R)<0){const h=i.getIngredientDemonLvls(R);for(let D=0;D<h.length;D++){const k=h[D],F=i.reverseLookupDemon(R,k);o>=k?(o+k)%7==0?l.push({name1:F,name2:v}):(o+k)%5==0?l.push({name1:F,name2:p}):(o+k)%3==0?l.push({name1:F,name2:f}):(o+k)%2==0&&D>0&&l.push({name1:F,name2:i.reverseLookupDemon(R,h[D-1])}):(o+k)%2==0&&D<h.length-1?l.push({name1:F,name2:i.reverseLookupDemon(R,h[D+1])}):(o+k)%2==1&&l.push({name1:F,name2:"Slime"})}}return l.filter(R=>""!==R.name2)}g.d(S,{i:()=>t,j:()=>n})},4660:(x,S,g)=>{function t(o,s){const a=s.getDemon(o);return{price:a.price,race1:a.race,lvl1:a.currLvl,name1:o}}function n(o,s){const a=s.getDemon(o.name1),l=s.getDemon(o.name2);return{price:a.price+l.price,race1:a.race,lvl1:a.currLvl,name1:o.name1,race2:l.race,lvl2:l.currLvl,name2:o.name2}}function e(o,s){const a=s.getDemon(o.name1),l=s.getDemon(o.name2);return{price:a.price,race1:a.race,lvl1:a.currLvl,name1:o.name1,race2:l.race,lvl2:l.lvl,name2:o.name2}}function i(o,s){const a=s.getDemon(o.name1),l=s.getDemon(o.name2),c=s.getDemon(o.name3);return{price:a.price+l.price+c.price,d1:a,d2:l,d3:c}}function m(o,s){const a=s.getDemon(o.name1),l=s.getDemon(o.name2),c=s.getDemon(o.name3);return{price:a.price+l.price,d1:a,d2:l,d3:c}}function r(o,s){const a={};if(!s)return a;for(let l=0;l<s.length;l++)for(let c=0;c<s[l].length-1;c++){const u=s[l][c];a[u]||(a[u]=[]),a[u].push({name1:o[c],name2:o[l]})}return a}g.d(S,{Jc:()=>r,OY:()=>m,_m:()=>t,f7:()=>i,lA:()=>e,on:()=>n})},7396:(x,S,g)=>{g.d(S,{s:()=>t});class t{constructor(e,i){this.fuseNonelem=e,this.fuseElement=i}getFusions(e,i,m){let r=[];const o=i.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const s of o)r=r.concat(s(e,i,m));return r}}},8063:(x,S,g)=>{g.d(S,{p:()=>t});let t=(()=>{class n{static{this.LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Geist","Entity","Amatsu","Kunitsu","Godly","Chaos"]}static{this.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot"]}static loadFusionTableJson(i,m){const r={},o=1===m[0].length;for(const s of i)r[s]={};for(let s=0;s<m.length;s++){const a=i[s],l=m[s],c=o?0:i.length-l.length;for(let u=0;u<l.length;u++){const d=i[u+c],v=l[u];"-"!==v&&(r[a][d]=v,r[d][a]=v)}}return r}static loadFissionTableJson(i,m,r){const o={},s=1===r[0].length;for(let a=0;a<r.length;a++){const l=i[a],c=r[a],u=s?0:i.length-c.length;for(let d=0;d<c.length;d++){const v=i[d+u],p=c[d];"-"!==p&&(o[p]||(o[p]={}),o[p][l]||(o[p][l]=[]),o[p][l].push(v))}}return o}static loadElementTableJson(i,m,r){const o={};for(const s of m)o[s]={};for(let s=0;s<r.length;s++){const a=i[s],l=r[s];for(let c=0;c<l.length;c++){const d=r[s][c];d&&(o[m[c]][a]=d)}}return o}static mergeFusionTables(i,m){const r={};for(const[o,s]of Object.entries(i))r[o]=Object.assign({},s);for(const[o,s]of Object.entries(m))r[o]=Object.assign(r[o]||{},s);return r}static mergeFissionTables(i,m){const r={};for(const[o,s]of Object.entries(i)){r[o]={};for(const[a,l]of Object.entries(s))r[o][a]=l.slice()}for(const[o,s]of Object.entries(m)){r[o]=r[o]||{};for(const[a,l]of Object.entries(s))r[o][a]=l.concat(r[o][a]||[])}return r}getLightDark(i){return-1!==n.LIGHT_RACES.indexOf(i)?1:-1!==n.DARK_RACES.indexOf(i)?-1:0}getRaceFissions(i){return this.fissionChart[i]||{}}getRaceFusions(i){return this.fusionChart[i]||{}}getRaceFusion(i,m){return this.getRaceFusions(i)[m]||""}getElemModifiers(i){const m={};for(const[r,o]of Object.entries(this.elementChart)){const s=o[i];s&&(m[s]||(m[s]=[]),m[s].push(r))}return m}getElemFusions(i){return this.elementChart[i]||{}}isConvertedRace(i){return!1}}return n})()},8939:(x,S,g)=>{g.d(S,{$:()=>t});class t{constructor(e,i){this.fuseNonelem=e,this.fuseElement=i}getFusions(e,i,m){let r=[];const o=i.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const s of o)r=r.concat(s(e,i,m));return r}}},361:(x,S,g)=>{g.d(S,{N:()=>n});var t=g(2598);let n=(()=>{class e{constructor(m,r){this.elementRef=m,this.renderer=r,this.borderWidth=2}get colWidths(){const m=[],r=this.elementRef.nativeElement.children;if(r.length)for(const o of r[r.length-1].children)m.push(o.getBoundingClientRect().width-2*this.borderWidth);return m}set colWidths(m){const r=this.elementRef.nativeElement.children;if(r.length){const o=r[r.length-1].children;for(let s=0;s<o.length;s++)this.renderer.setStyle(o[s],"width",`${m[s]}px`)}}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275dir=t.FsC({type:e,selectors:[["","appColumnWidths",""]],inputs:{borderWidth:"borderWidth",colWidths:"colWidths"}})}}return e})()},3885:(x,S,g)=>{g.d(S,{P:()=>e});var t=g(4412),n=g(2598);let e=(()=>{class i{constructor(r){this._edges$=new t.t({top:0,bottom:0,left:0,right:0,zIndex:10}),this.edges=this._edges$.asObservable(),this.parentEdges=r?r.edges:new t.t({top:0,bottom:0,left:0,right:0,zIndex:10}).asObservable()}nextEdges(r){this._edges$.next(r)}static{this.\u0275fac=function(o){return new(o||i)(n.KVO(i,12))}}static{this.\u0275prov=n.jDH({token:i,factory:i.\u0275fac})}}return i})()},9108:(x,S,g)=>{g.d(S,{a:()=>e});var t=g(2598),n=g(3885);let e=(()=>{class i{constructor(r,o,s){this.elementRef=r,this.renderer=o,this.edgesService=s,this.cPositionSticky=!0,this.sZIndex=0,this.subscriptions=[],this._edges={top:0,bottom:0,left:0,right:0,zIndex:10}}ngOnInit(){this.subscriptions.push(this.edgesService.parentEdges.subscribe(r=>{this.edges=r}))}ngOnDestroy(){for(const r of this.subscriptions)r.unsubscribe()}nextEdges(){setTimeout(()=>this.edgesService.nextEdges(this.edges))}get edges(){return Object.assign({},this._edges,{top:this._edges.top+this.elementRef.nativeElement.clientHeight,zIndex:this._edges.zIndex-1})}set edges(r){this._edges=r,this.sZIndex=r.zIndex,this.renderer.setStyle(this.elementRef.nativeElement,"top",`${r.top}px`),this.nextEdges()}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(n.P))}}static{this.\u0275dir=t.FsC({type:i,selectors:[["","appPositionSticky",""]],hostVars:4,hostBindings:function(o,s){2&o&&(t.xc7("z-index",s.sZIndex),t.AVh("position-sticky",s.cPositionSticky))},inputs:{edges:"edges"}})}}return i})()},6661:(x,S,g)=>{g.d(S,{O:()=>r,r:()=>o});var t=g(2598),n=g(361),e=g(9108);const i=["stickyHeader"],m=["hiddenHeader"];let r=(()=>{class s{constructor(){this.sortAsc=!0,this.sortAscIndex=1,this.sortFunIndexChanged=new t.bkB}get sortFunIndex(){return(this.sortAsc?1:-1)*this.sortAscIndex}set sortFunIndex(l){this.sortAsc=l>0,this.sortAscIndex=(this.sortAsc?1:-1)*l}sortDirClass(l){return this.sortAscIndex!==l?"none":this.sortAsc?"asc":"desc"}nextSortFunIndex(l){this.sortAsc=this.sortAscIndex!==l||!this.sortAsc,this.sortAscIndex=l,this.sortFunIndexChanged.emit(this.sortFunIndex)}static{this.\u0275fac=function(c){return new(c||s)}}static{this.\u0275dir=t.FsC({type:s,inputs:{sortFunIndex:"sortFunIndex"},outputs:{sortFunIndexChanged:"sortFunIndexChanged"}})}}return s})(),o=(()=>{class s{constructor(){this._rowData=[],this._sortFunIndex=0}get rowData(){return this._rowData}set rowData(l){this._rowData=l,this.sort()}get sortFunIndex(){return this._sortFunIndex}set sortFunIndex(l){this._sortFunIndex=l,this.sort()}sort(){this.sortFunIndex>=0?this.rowData.sort(this.getSortFun(this.sortFunIndex)):this.sortFunIndex<0&&this.rowData.sort((l,c)=>this.getSortFun(-1*this.sortFunIndex)(c,l)),setTimeout(this.matchColWidths.bind(this))}matchColWidths(){this.stickyHeader&&this.hiddenHeader&&(this.stickyHeader.colWidths=this.hiddenHeader.colWidths)}static{this.\u0275fac=function(c){return new(c||s)}}static{this.\u0275dir=t.FsC({type:s,viewQuery:function(c,u){if(1&c&&(t.GBs(e.a,5),t.GBs(i,5,n.N),t.GBs(m,5,n.N)),2&c){let d;t.mGM(d=t.lsd())&&(u.stickyTable=d.first),t.mGM(d=t.lsd())&&(u.stickyHeader=d.first),t.mGM(d=t.lsd())&&(u.hiddenHeader=d.first)}},inputs:{rowData:"rowData",sortFunIndex:"sortFunIndex"}})}}return s})()}}]);